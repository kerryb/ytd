CREATE TABLE IF NOT EXISTS "schema_migrations" ("version" INTEGER PRIMARY KEY, "inserted_at" TEXT);
CREATE TABLE IF NOT EXISTS "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT, "athlete_id" INTEGER, "access_token" TEXT, "inserted_at" TEXT NOT NULL, "updated_at" TEXT NOT NULL, "refresh_token" TEXT, "selected_activity_type" TEXT DEFAULT 'Run', "selected_unit" TEXT DEFAULT 'miles', "name" TEXT);
CREATE TABLE sqlite_sequence(name,seq);
CREATE TABLE IF NOT EXISTS "activities" ("id" INTEGER PRIMARY KEY AUTOINCREMENT, "user_id" INTEGER CONSTRAINT "activities_user_id_fkey" REFERENCES "users"("id") ON DELETE CASCADE, "strava_id" INTEGER, "type" TEXT, "name" TEXT, "distance" NUMERIC, "start_date" TEXT, "inserted_at" TEXT NOT NULL, "updated_at" TEXT NOT NULL);
CREATE UNIQUE INDEX "activities_strava_id_index" ON "activities" ("strava_id");
CREATE TABLE IF NOT EXISTS "targets" ("id" INTEGER PRIMARY KEY AUTOINCREMENT, "user_id" INTEGER CONSTRAINT "targets_user_id_fkey" REFERENCES "users"("id") ON DELETE CASCADE, "activity_type" TEXT, "target" INTEGER, "unit" TEXT, "inserted_at" TEXT NOT NULL, "updated_at" TEXT NOT NULL);
CREATE UNIQUE INDEX "targets_user_id_activity_type_index" ON "targets" ("user_id", "activity_type");
CREATE TABLE IF NOT EXISTS "subscription" ("id" INTEGER PRIMARY KEY AUTOINCREMENT, "strava_id" INTEGER, "inserted_at" TEXT NOT NULL, "updated_at" TEXT NOT NULL);
CREATE UNIQUE INDEX "subscription_strava_id_index" ON "subscription" ("strava_id");
INSERT INTO schema_migrations VALUES(20180301120201,'2025-03-17T17:27:53');
INSERT INTO schema_migrations VALUES(20191012151837,'2025-03-17T17:27:53');
INSERT INTO schema_migrations VALUES(20200816184009,'2025-03-17T17:37:55');
INSERT INTO schema_migrations VALUES(20200817213538,'2025-03-17T17:37:55');
INSERT INTO schema_migrations VALUES(20210131134621,'2025-03-17T17:37:55');
INSERT INTO schema_migrations VALUES(20210303204557,'2025-03-17T17:37:55');
INSERT INTO schema_migrations VALUES(20210328202433,'2025-03-17T17:37:55');
INSERT INTO schema_migrations VALUES(20211112221650,'2025-03-17T17:37:55');
